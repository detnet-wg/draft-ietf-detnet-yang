<interfaces
  xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"
  xmlns:ia="urn:ietf:params:xml:ns:yang:iana-if-type">
    <interface>
      <name>eth0</name>
      <type>ia:ethernetCsmacd</type>
      <oper-status>up</oper-status>
      <statistics>
         <discontinuity-time>2020-12-18T23:59:00Z</discontinuity-time>
      </statistics>
    </interface>
    <interface>
      <name>eth1</name>
      <type>ia:ethernetCsmacd</type>
      <oper-status>up</oper-status>
      <statistics>
         <discontinuity-time>2020-12-18T23:59:00Z</discontinuity-time>
      </statistics>
    </interface>
    <interface>
      <name>eth2</name>
      <type>ia:ethernetCsmacd</type>
      <oper-status>up</oper-status>
      <statistics>
         <discontinuity-time>2020-12-18T23:59:00Z</discontinuity-time>
      </statistics>
    </interface>
    <interface>
      <name>eth3</name>
      <type>ia:ethernetCsmacd</type>
      <oper-status>up</oper-status>
      <statistics>
         <discontinuity-time>2020-12-18T23:59:00Z</discontinuity-time>
      </statistics>
    </interface>
    <interface>
      <name>eth4</name>
      <type>ia:ethernetCsmacd</type>
      <oper-status>up</oper-status>
      <statistics>
         <discontinuity-time>2020-12-18T23:59:00Z</discontinuity-time>
      </statistics>
    </interface>
  </interfaces>
<detnet
  xmlns="urn:ietf:params:xml:ns:yang:ietf-detnet"
  xmlns:in="urn:ietf:params:xml:ns:yang:ietf-inet-types"
  xmlns:rt="urn:ietf:params:xml:ns:yang:ietf-routing-types"
  xmlns:if="urn:ietf:params:xml:ns:yang:ietf-interfaces"
  xmlns:r="urn:ietf:params:xml:ns:yang:ietf-routing"
  xmlns:mpls="urn:ietf:params:xml:ns:yang:ietf-mpls"
  xmlns:pf="urn:ietf:params:xml:ns:yang:ietf-packet-fields">
   <traffic-profile>  
    <name>pf-1</name>
    <traffic-requirements>
      <min-bandwidth>100000000</min-bandwidth>
      <max-latency>100000000</max-latency>
      <max-latency-variation>100000000</max-latency-variation>
      <max-loss>2</max-loss>
      <max-consecutive-loss-tolerance>5</max-consecutive-loss-tolerance>
      <max-misordering>0</max-misordering>
    </traffic-requirements>
    <member-services>ssl-1</member-services>
    <member-services>ssl-2</member-services>
  </traffic-profile>
  <traffic-profile>  
    <name>pf-2</name>
    <flow-spec>
      <interval>125</interval>
      <max-pkts-per-interval>2</max-pkts-per-interval>
      <max-payload-size>1518</max-payload-size>
    </flow-spec>
    <member-fwd-sublayers>afl-1</member-fwd-sublayers>
    <member-fwd-sublayers>afl-2</member-fwd-sublayers>
  </traffic-profile>
  <traffic-profile>  
    <name>pf-3</name>
    <flow-spec>
      <interval>125</interval>
      <max-pkts-per-interval>1</max-pkts-per-interval>
      <max-payload-size>1518</max-payload-size>
    </flow-spec>
    <member-fwd-sublayers>fsl-1</member-fwd-sublayers>
    <member-fwd-sublayers>fsl-2</member-fwd-sublayers>
    <member-fwd-sublayers>fsl-3</member-fwd-sublayers>
    <member-fwd-sublayers>fsl-4</member-fwd-sublayers>
    <member-fwd-sublayers>fsl-5</member-fwd-sublayers>
    <member-fwd-sublayers>fsl-6</member-fwd-sublayers>
  </traffic-profile>
  <service>
    <sub-layer>
      <name>ssl-1</name>
      <service-rank>10</service-rank>
      <traffic-profile>pf-1</traffic-profile>
      <service-protection>
        <protection>elimination</protection>
        <sequence-number-length>long-sn</sequence-number-length>
      </service-protection>
      <operation>relay</operation>
      <incoming>
        <service-id>        
        <mpls-label-stack>
          <entry>
            <id>0</id>
            <label>101</label>
          </entry>
        </mpls-label-stack>
       </service-id>        
      </incoming>
      <outgoing>
	<forwarding-sub-layer>
        <service-outgoing>
          <index>0</index>
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>102</label>
            </entry>
          </mpls-label-stack>
	  <sub-layer>fsl-3</sub-layer>
        </service-outgoing>
        </forwarding-sub-layer>
      </outgoing>
    </sub-layer>
    <sub-layer>
      <name>ssl-2</name>
      <service-rank>10</service-rank>
      <traffic-profile>pf-1</traffic-profile>
      <service-protection>
        <protection>elimination</protection>
        <sequence-number-length>long-sn</sequence-number-length>
      </service-protection>
      <operation>relay</operation>
      <incoming>
        <service-id>        
        <mpls-label-stack>
          <entry>
            <id>0</id>
            <label>104</label>
          </entry>
        </mpls-label-stack>
       </service-id>        
      </incoming>
      <outgoing>
	<forwarding-sub-layer>
        <service-outgoing>
          <index>0</index>
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>105</label>
            </entry>
          </mpls-label-stack>
	  <sub-layer>fsl-6</sub-layer>
        </service-outgoing>
        </forwarding-sub-layer>
      </outgoing>
    </sub-layer>
  </service>
  <forwarding>
    <sub-layer>
      <name>afl-1</name>
      <traffic-profile>pf-2</traffic-profile>
      <operation>pop-and-lookup</operation>
      <incoming>
	<forwarding-id>
	  <interface>eth0</interface>
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>20002</label>
            </entry>
          </mpls-label-stack>
        </forwarding-id>
      </incoming>
      <outgoing>
	<forwarding-disaggregation>
          <sub-layer>fsl-1</sub-layer>
          <sub-layer>fsl-4</sub-layer>
        </forwarding-disaggregation>
      </outgoing>
    </sub-layer>
    <sub-layer>
      <name>afl-2</name>
      <traffic-profile>pf-2</traffic-profile>
      <operation>pop-and-lookup</operation>
      <incoming>
	<forwarding-id>
	  <interface>eth1</interface>
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>20003</label>
            </entry>
          </mpls-label-stack>
        </forwarding-id>
      </incoming>
      <outgoing>
	<forwarding-disaggregation>
          <sub-layer>fsl-2</sub-layer>
          <sub-layer>fsl-5</sub-layer>
        </forwarding-disaggregation>
      </outgoing>
    </sub-layer>
    <sub-layer>
      <name>fsl-1</name>
      <traffic-profile>pf-3</traffic-profile>
      <operation>pop-and-lookup</operation>
      <incoming>
	<forwarding-id>
	  <interface>eth0</interface>
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>10003</label>
            </entry>
          </mpls-label-stack>
        </forwarding-id>
      </incoming>
      <outgoing>
	<service-sub-layer>
          <sub-layer>ssl-1</sub-layer>
        </service-sub-layer>
      </outgoing>
    </sub-layer>
    <sub-layer>
      <name>fsl-2</name>
      <traffic-profile>pf-3</traffic-profile>
      <operation>pop-and-lookup</operation>
      <incoming>
        <forwarding-id>
          <interface>eth1</interface>
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>10004</label>
            </entry>
          </mpls-label-stack>
        </forwarding-id>
      </incoming>
      <outgoing>
	<service-sub-layer>
          <sub-layer>ssl-1</sub-layer>
        </service-sub-layer>
      </outgoing>
    </sub-layer>
    <sub-layer>
      <name>fsl-3</name>
      <traffic-profile>pf-3</traffic-profile>
      <operation>impose-and-forward</operation>
      <incoming>
	<service-sub-layer>
          <sub-layer>ssl-1</sub-layer>
	</service-sub-layer>
      </incoming>
      <outgoing>
        <interface>
          <outgoing-interface>eth2</outgoing-interface>
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>10005</label>
            </entry>
          </mpls-label-stack>
        </interface>
      </outgoing>
    </sub-layer>
    <sub-layer>
      <name>fsl-4</name>
      <traffic-profile>pf-3</traffic-profile>
      <operation>pop-and-lookup</operation>
      <incoming>
	<forwarding-id>
	  <interface>eth0</interface>
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>10009</label>
            </entry>
          </mpls-label-stack>
        </forwarding-id>
      </incoming>
      <outgoing>
	<service-sub-layer>
          <sub-layer>ssl-2</sub-layer>
        </service-sub-layer>
      </outgoing>
    </sub-layer>
    <sub-layer>
      <name>fsl-5</name>
      <traffic-profile>pf-3</traffic-profile>
      <operation>pop-and-lookup</operation>
      <incoming>
        <forwarding-id>
          <interface>eth1</interface>
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>10010</label>
            </entry>
          </mpls-label-stack>
        </forwarding-id>
      </incoming>
      <outgoing>
	<service-sub-layer>
          <sub-layer>ssl-2</sub-layer>
        </service-sub-layer>
      </outgoing>
    </sub-layer>
    <sub-layer>
      <name>fsl-6</name>
      <traffic-profile>pf-3</traffic-profile>
      <operation>impose-and-forward</operation>
      <incoming>
	<service-sub-layer>
          <sub-layer>ssl-2</sub-layer>
	</service-sub-layer>
      </incoming>
      <outgoing>
        <interface>
          <outgoing-interface>eth3</outgoing-interface>
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>10011</label>
            </entry>
          </mpls-label-stack>
        </interface>
      </outgoing>
    </sub-layer>
  </forwarding>
</detnet>
