<interfaces
  xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"
  xmlns:ia="urn:ietf:params:xml:ns:yang:iana-if-type">
    <interface>
      <name>eth0</name>
      <type>ia:ethernetCsmacd</type>
      <oper-status>up</oper-status>
      <statistics>
         <discontinuity-time>2020-12-18T23:59:00Z</discontinuity-time>
      </statistics>
    </interface>
    <interface>
      <name>eth1</name>
      <type>ia:ethernetCsmacd</type>
      <oper-status>up</oper-status>
      <statistics>
         <discontinuity-time>2020-12-18T23:59:00Z</discontinuity-time>
      </statistics>
    </interface>
    <interface>
      <name>eth2</name>
      <type>ia:ethernetCsmacd</type>
      <oper-status>up</oper-status>
      <statistics>
         <discontinuity-time>2020-12-18T23:59:00Z</discontinuity-time>
      </statistics>
    </interface>
    <interface>
      <name>eth3</name>
      <type>ia:ethernetCsmacd</type>
      <oper-status>up</oper-status>
      <statistics>
         <discontinuity-time>2020-12-18T23:59:00Z</discontinuity-time>
      </statistics>
    </interface>
    <interface>
      <name>eth4</name>
      <type>ia:ethernetCsmacd</type>
      <oper-status>up</oper-status>
      <statistics>
         <discontinuity-time>2020-12-18T23:59:00Z</discontinuity-time>
      </statistics>
    </interface>
  </interfaces>
<detnet
  xmlns="urn:ietf:params:xml:ns:yang:ietf-detnet"
  xmlns:in="urn:ietf:params:xml:ns:yang:ietf-inet-types"
  xmlns:rt="urn:ietf:params:xml:ns:yang:ietf-routing-types"
  xmlns:if="urn:ietf:params:xml:ns:yang:ietf-interfaces"
  xmlns:r="urn:ietf:params:xml:ns:yang:ietf-routing"
  xmlns:mpls="urn:ietf:params:xml:ns:yang:ietf-mpls"
  xmlns:pf="urn:ietf:params:xml:ns:yang:ietf-packet-fields">
  <traffic-profile>  
    <profile-name>pf-1</profile-name>
    <traffic-specification>
      <interval>125</interval>
      <max-packets-per-interval>1</max-packets-per-interval>
      <max-payload-size>1518</max-payload-size>
    </traffic-specification>
    <member-forwarding-sublayers>fsl-1</member-forwarding-sublayers>
    <member-forwarding-sublayers>fsl-2</member-forwarding-sublayers>
  </traffic-profile>  
  <traffic-profile>  
    <profile-name>pf-2</profile-name>
    <traffic-specification>
      <interval>125</interval>
      <max-packets-per-interval>2</max-packets-per-interval>
      <max-payload-size>1518</max-payload-size>
    </traffic-specification>
    <member-forwarding-sublayers>afl-1</member-forwarding-sublayers>
  </traffic-profile>
  <forwarding-sub-layer>
    <forwarding-sub-layer-list>
      <name>fsl-1</name>
      <traffic-profile>pf-1</traffic-profile>
      <forwarding-operation-type>pop-impose-and-forward</forwarding-operation-type>
      <incoming-type>
      <forwarding-sub-layer-service>
        <interface>eth0</interface>
        <mpls-label-stack>
          <entry>
            <id>0</id>
            <label>10000</label>
          </entry>
        </mpls-label-stack>
      </forwarding-sub-layer-service>
      </incoming-type>
      <outgoing-type>
      <forwarding-sub-layer>
        <aggregation-forwarding-sub-layer>afl-1</aggregation-forwarding-sub-layer>
	<forwarding-label>       
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>10002</label>
            </entry>
          </mpls-label-stack>
	</forwarding-label>       
      </forwarding-sub-layer>
      </outgoing-type>
    </forwarding-sub-layer-list>
    <forwarding-sub-layer-list>
      <name>fsl-2</name>
      <traffic-profile>pf-1</traffic-profile>
      <forwarding-operation-type>pop-impose-and-forward</forwarding-operation-type>
      <incoming-type>
      <forwarding-sub-layer-service>
        <interface>eth1</interface>
        <mpls-label-stack>
          <entry>
            <id>0</id>
            <label>10004</label>
          </entry>
        </mpls-label-stack>
      </forwarding-sub-layer-service>
      </incoming-type>
      <outgoing-type>
      <forwarding-sub-layer>
        <aggregation-forwarding-sub-layer>afl-1</aggregation-forwarding-sub-layer>
        <forwarding-label>
          <mpls-label-stack>
            <entry>
              <id>0</id>
              <label>10006</label>
            </entry>
          </mpls-label-stack>
        </forwarding-label>
      </forwarding-sub-layer>
      </outgoing-type>
    </forwarding-sub-layer-list>
    <forwarding-sub-layer-list>
      <name>afl-1</name>
      <traffic-profile>pf-2</traffic-profile>
      <forwarding-operation-type>impose-and-forward</forwarding-operation-type>
      <incoming-type>
      <service-sub-layer-service>
        <forwarding-sub-layer>fsl-1</forwarding-sub-layer>
        <forwarding-sub-layer>fsl-2</forwarding-sub-layer>
      </service-sub-layer-service>
      </incoming-type>
      <outgoing-type>
      <interface>
        <outgoing-interface>eth3</outgoing-interface>
        <mpls-label-stack>
          <entry>
            <id>0</id>
            <label>20000</label>
          </entry>
        </mpls-label-stack>
      </interface>
      </outgoing-type>
    </forwarding-sub-layer-list>
  </forwarding-sub-layer>
</detnet>
